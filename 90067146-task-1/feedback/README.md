# 📍 GPS 맵 매칭 및 경로 이탈 탐지 시스템
## 🙋‍♀️ 지원자 정보
- 이름: 김윤지
- 전화번호: 010-9006-7146
- 제출일: 2025년 7월 3일

## ⚙️ 프로젝트 실행 방법

### 1. 디렉토리 구조
```
.
├── main.py
├── data/
│   ├── road.osm # OSM 도로 네트워크 데이터
│   ├── gps_csvs # GPS 주행 로그 (총 10개 파일)
|       ├── gps_left_turn.csv
│       └── ...
├── src/
│   ├── gps_loader.py # GPS CSV 로딩 및 전처리
│   ├── map_matching.py # 맵 매칭 및 이탈 감지 알고리즘
│   ├── osm_parser.py # OSM XML 파일 파서 (도로, 노드 추출)
│   └── utils.py # 공통 함수 및 거리 계산 유틸
└── feedback/
    └── README.md # 과제 문서
```
### 2. 실행 환경

- Python 3.9 이상

### 3. 실행 방법
```bash
python main.py
```

- 주행 로그와 OSM 데이터를 활용해 맵 매칭 및 경로 이탈 여부를 탐지

- 로그에 따라 주행 경로가 시각화되거나 콘솔에 이탈 여부 출력

## 📌 결과물 설명
### 1. 주요 기능
- OSM 도로 정보 파싱: .osm XML 파일에서 도로(way) 및 노드(node) 정보 추출

- GPS 로그 로딩: 다수의 .csv 로그 파일을 일괄 로딩 및 처리

- 맵 매칭 알고리즘: GPS 점들을 도로 위로 정렬하여 가장 유사한 주행 경로 추정

- 경로 이탈 탐지: 매칭된 경로에서 일정 거리 이상 벗어난 경우 '이탈'로 판단

### 2. 적용한 기술 및 알고리즘
- Haversine 거리 계산

- OSM ID 기반 그래프 구성 (node → way → path)

- 점과 선분 간 최단 거리 계산

- 도로 위 후보 노드 탐색 → 최적 경로 선정 (향후 Hidden Markov Model 확장 가능)

### 3. 개선 사항
- 원본 문제에서는 지도 정보 없이 GPS 좌표만 기반으로 판단 → 부정확한 결과 초래

- 본 구현에서는 실제 도로망 기반으로 경로 매칭하여 정확도 향상

- GPS 품질이 낮거나 Multipath 오류가 있는 경우에도 필터링 및 보정 가능 구조로 설계

## 🧠 설계 및 구조 다이어그램
```css
main.py
  └── [1] OSM 파싱 → osm_parser.py
  └── [2] GPS 로딩 → gps_loader.py
  └── [3] 맵 매칭 수행 → map_matching.py
       └─ 거리 계산 / 후보 탐색 → utils.py
  └── [4] 경로 이탈 판단
```